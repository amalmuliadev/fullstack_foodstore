{"version":3,"sources":["features/Auth/constants.js","features/Auth/reducer.js","features/Products/constants.js","features/Products/reducer.js","features/Cart/constants.js","features/Cart/reducer.js","app/store.js","config.js","components/StoreLogo/index.js","components/TopBar/index.js","utils/sum-price.js","utils/format-rupiah.js","components/Cart/index.js","pages/Home/menus.js","api/product.js","features/Products/actions.js","features/Cart/actions.js","pages/Home/tags.js","app/listener.js","pages/Home/index.js","api/cart.js","pages/Register/validation.js","api/auth.js","pages/Register/index.js","pages/RegisterSuccess/index.js","features/Auth/actions.js","pages/Login/validation.js","pages/Login/index.js","components/SelectWilayah/index.js","api/address.js","pages/UserAddressAdd/validation.js","pages/UserAddressAdd/index.js","hooks/address.js","pages/UserAdddress/index.js","api/order.js","pages/Checkout/index.js","api/invoice.js","components/StatusLabel/index.js","pages/Invoice/index.js","pages/UserAccount/index.js","pages/UserOrders/index.js","pages/Logout/index.js","components/GuardRoute/index.js","components/GuestOnlyRoute/index.js","App.js","serviceWorker.js","index.js"],"names":["USER_LOGIN","USER_LOGOUT","initialState","localStorage","getItem","JSON","parse","user","token","SET_PAGE","SET_KEYWORD","SET_CATEGORY","SET_TAGS","NEXT_PAGE","PREV_PAGE","TOGGLE_TAG","statuslist","data","currentPage","totalItems","perPage","keyword","category","tags","status","ADD_ITEM","REMOVE_ITEM","CLEAR_ITEMS","SET_ITEMS","composerEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducers","combineReducers","auth","state","action","type","products","count","includes","tag","filter","cart","find","item","_id","map","qty","items","store","createStore","applyMiddleware","thunk","dotenv","config","process","account_no","bank_name","StoreLogo","to","className","TopBar","useSelector","desktop","justify","style","textAlign","full_name","icon","sumPrice","reduce","acc","curr","price","formatRupiah","number","isNaN","parseInt","Intl","NumberFormat","maximumSignificantDigits","currency","format","Cart","onItemInc","onItemDec","onCheckout","total","length","as","text","fitContainer","iconAfter","disabled","onClick","index","key","imgUrl","image_url","name","color","onInc","_","onDec","menus","label","id","params","a","axios","get","debouncedFetchProducts","debounce","startFetchingProducts","errorFetchingProducts","successFetchingProducts","addItem","clearItems","setItems","currentAuth","currentCart","utama","pastry","snack","minuman","Home","dispatch","useDispatch","history","useHistory","React","useEffect","getState","limit","skip","q","sidebar","verticalAlign","active","onChange","setCategory","content","fullRound","value","placeholder","e","target","slice","toUpperCase","isActive","toggleTag","product","title","onAddToCart","page","setPage","onNext","onPrev","removeItem","push","sidebarSize","saveCart","put","headers","authorization","error","listener","previousAuth","previousCart","setItem","stringify","rules","required","message","maxLength","pattern","registerUser","post","login","email","password","then","response","Register","useForm","register","handleSubmit","errors","setError","useState","setStatus","onSubmit","formData","password_confirmation","Object","keys","fields","forEach","field","properties","size","errorMessage","ref","RegisterSuccess","userLogin","Login","SelectWilayah","tingkat","kodeInduk","setData","isFetching","setIsFetching","finally","options","wilayah","nama","kode","isLoading","isDisabled","getAddress","createAddress","payload","defaultProps","minLength","UserAddressAdd","setValue","watch","getValues","allFields","provinsi","kabupaten","kecamatan","updateValue","shouldValidate","shouldDirty","nama_alamat","detail","detail_alamat","kelurahan","option","useAddressData","setCount","setLimit","fetchAddress","columns","Header","accessor","alamat","UserAddress","onPageChange","getOrders","createOrder","IconWrapper","children","steps","src","width","alt","addressColumns","Checkout","activeStep","setActiveStep","selectedAddress","setSelectedAddress","delivery_fee","delivery_address","showPagination","selectable","primaryKey","selectedRow","onSelectRow","tablet","mobile","iconBefore","order_id","StatusLabel","Invoice","invoice","setInvoice","useRouteMatch","getInvoiceByOrderId","payment_status","order","order_number","url","UserAccount","menu","header","body","order_items","UserOrders","pesanan","setPesanan","fetchPesanan","useCallback","Logout","logout","GuardRoute","rest","GuestOnlyRoute","App","subscribe","getCart","path","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.eb7a3f9a.chunk.js","sourcesContent":["export const USER_LOGIN = 'features/Auth/USER_LOGIN';\r\nexport const USER_LOGOUT = 'features/Auth/USER_LOGOUT';","import { USER_LOGIN, USER_LOGOUT } from './constants'\r\n\r\nlet initialState = localStorage.getItem('auth') ? JSON.parse(localStorage.getItem('auth')) : {user: null, token: null}\r\n\r\nexport default function reducer(state = initialState, action){\r\n    switch(action.type){\r\n        case USER_LOGIN:\r\n            return { user: action.user, token: action.token }\r\n        case USER_LOGOUT:\r\n            return { user: null, token: null}\r\n        default:\r\n            return state;\r\n    }\r\n}","export const START_FETCHING_PRODUCT = 'features/Products/START_FETCHING_PRODUCT';\r\nexport const ERROR_FETCHING_PRODUCT = 'features/Products/ERROR_FETCHING_PRODUCT';\r\nexport const SUCCESS_FETCHING_PRODUCT = 'features/Products/SUCCESS_FETCHING_PRODUCT';\r\nexport const SET_PAGE = 'features/Products/SET_PAGE';\r\nexport const SET_KEYWORD = 'features/Products/SET_KEYWORD';\r\nexport const SET_CATEGORY = 'features/Products/SET_CATEGORY';\r\nexport const SET_TAGS = 'features/Products/SET_TAGS';\r\nexport const NEXT_PAGE = 'features/Products/NEXT_PAGE';\r\nexport const PREV_PAGE = 'features/Products/PREV_PAGE';\r\nexport const TOGGLE_TAG = 'features/Products/TOGGLE_TAG';","import {\r\n    START_FETCHING_PRODUCT,\r\n    ERROR_FETCHING_PRODUCT,\r\n    SUCCESS_FETCHING_PRODUCT,\r\n    SET_PAGE,\r\n    SET_CATEGORY,\r\n    SET_KEYWORD,\r\n    SET_TAGS,\r\n    NEXT_PAGE,\r\n    PREV_PAGE,\r\n    TOGGLE_TAG\r\n} from './constants';\r\n\r\nconst statuslist = {\r\n    idle: 'idle',\r\n    process: 'process',\r\n    success: 'success',\r\n    error: 'error',\r\n}\r\n\r\nconst initialState = {\r\n    data: [],\r\n    currentPage: 1,\r\n    totalItems: -1,\r\n    perPage: 6,\r\n    keyword: '',\r\n    category: '',\r\n    tags: [],\r\n    status: statuslist.idle\r\n};\r\n\r\nexport default function reducer(state = initialState, action){\r\n    switch(action.type){\r\n        case START_FETCHING_PRODUCT:\r\n            return {...state, status: statuslist.process}\r\n\r\n        case ERROR_FETCHING_PRODUCT:\r\n            return {...state, status: statuslist.error}\r\n        \r\n        case SUCCESS_FETCHING_PRODUCT:\r\n            return {...state, status: statuslist.success, data: action.data,\r\n            totalItems: action.count}\r\n\r\n        case SET_PAGE:\r\n            return {...state, currentPage: action.currentPage}\r\n\r\n        case SET_KEYWORD:\r\n            return {...state, keyword: action.keyword, category: '', tags: []}\r\n\r\n        case SET_CATEGORY:\r\n            return {...state, currentPage: 1, tags: [], category: action.category, keyword: ''}\r\n        \r\n        case SET_TAGS:\r\n            return {...state, tags: action.tags}\r\n        \r\n        case TOGGLE_TAG:\r\n            if(!state.tags.includes(action.tag)){\r\n                return {...state, currentPage: 1, tags: [...state.tags, action.tag]}\r\n            } else {\r\n                return {...state, currentPage: 1, tags: state.tags.filter(tag => tag !== action.tag)}\r\n            }\r\n            \r\n        case NEXT_PAGE:\r\n            return {...state, currentPage: state.currentPage + 1}\r\n\r\n        case PREV_PAGE:\r\n            return {...state, currentPage: state.currentPage - 1}\r\n\r\n        default:\r\n        return state;\r\n    }\r\n}","export const ADD_ITEM = 'features/Cart/ADD_ITEM';\r\nexport const REMOVE_ITEM = 'features/Cart/REMOVE_ITEM';\r\nexport const CLEAR_ITEMS = 'features/Cart/CLEAR_ITEMS';\r\nexport const SET_ITEMS = 'features/Cart/SET_ITEMS';","import { ADD_ITEM, REMOVE_ITEM, CLEAR_ITEMS, SET_ITEMS } from\r\n'./constants';\r\nconst initialState = localStorage.getItem('cart') ?\r\nJSON.parse(localStorage.getItem('cart')) : [];\r\n\r\nexport default function reducer(state = initialState, action){\r\n    switch(action.type){\r\n        case ADD_ITEM:\r\n            if(state.find(item => item._id === action.item._id)){\r\n                return state.map(item => ({...item, qty: item._id === action.item._id ? item.qty + 1 : item.qty}));\r\n            } else {\r\n                return [...state, {...action.item, qty: 1}];\r\n            }\r\n\r\n        case REMOVE_ITEM:\r\n            return state\r\n                .map(item => ({...item, qty: item._id === action.item._id ? item.qty - 1 : item.qty}))\r\n                .filter(item => item.qty > 0);\r\n        \r\n        case CLEAR_ITEMS:\r\n            return [];\r\n\r\n        case SET_ITEMS:\r\n            return action.items\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}","import { combineReducers, createStore, applyMiddleware, compose } from\r\n'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport authReducer from '../features/Auth/reducer';\r\nimport productReducer from '../features/Products/reducer'\r\nimport cartReducer from '../features/Cart/reducer'\r\n\r\n// (3) buat composer enhancer untuk menghubungkan dengan Chrome DevTools Redux\r\nconst composerEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\n  \r\n\r\n// (4) gabung reducer, untuk sementara kosong, karena kita belum membuat reducer\r\nconst rootReducers = combineReducers({\r\n    auth: authReducer,\r\n    products: productReducer,\r\n    cart: cartReducer\r\n});\r\n\r\n// (5) buat store, dan gunakan composerEnhancer + middleware thunk\r\nconst store = createStore(rootReducers, composerEnhancer(applyMiddleware(thunk)));\r\n\r\n// (6) export store\r\nexport default store","import dotenv from 'dotenv';\r\n\r\ndotenv.config();\r\n\r\nconst config = {\r\n    api_host: process.env.REACT_APP_API_HOST,\r\n    site_title: process.env.REACT_APP_SITE_TITLE,\r\n    global_ongkir: process.env.REACT_APP_GLOBAL_ONGKIR,\r\n    owner: process.env.REACT_APP_OWNER,\r\n    contact: process.env.REACT_APP_CONTACT,\r\n    billing: {\r\n        account_no: process.env.REACT_APP_BILLING_NO,\r\n        bank_name: process.env.REACT_APP_BILLING_NO,\r\n    }\r\n}\r\nexport { config };","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { config } from '../../config';\r\n\r\nconst StoreLogo = () => {\r\n    return (\r\n        <div>\r\n            <Link to=\"/\">\r\n            <div className=\"text-red-600 font-bold text-4xl\">\r\n            {config.site_title}</div>\r\n         </Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default StoreLogo\r\n","import * as React from 'react'; \r\nimport { useSelector } from 'react-redux';\r\nimport { Responsive, ButtonCircle } from 'upkit';\r\nimport { Link } from 'react-router-dom';\r\nimport FaUser from '@meronex/icons/fa/FaUser';\r\n\r\nimport StoreLogo from '../StoreLogo';\r\n\r\nexport default function TopBar(){\r\n\r\n   let auth = useSelector(state => state.auth);\r\n\t \r\n   return <Responsive desktop={2} justify=\"between\" items=\"center\">\r\n\r\n     <div>\r\n       <StoreLogo/>\r\n     </div>\r\n\r\n     <div className=\"mr-5 text-right\" style={{textAlign:\"right\"}}>\r\n         <Link to={auth.user ? '/account' : '/login'}>\r\n           <div className=\"mr-2 inline-block text-red-600 font-bold\">\r\n             {auth?.user?.full_name}\r\n           </div>\r\n           <ButtonCircle\r\n             icon={<FaUser/>}\r\n           />\r\n         </Link>\r\n     </div>\r\n\r\n   </Responsive>\r\n}\r\n","\r\nexport function sumPrice(items){\r\n    return items.reduce((acc, curr) => acc + (curr.price * curr.qty), 0);\r\n}","export function formatRupiah(number){\r\n    \r\n    if(isNaN(parseInt(number))) return '';\r\n    \r\n    return new Intl.NumberFormat('id-ID', {maximumSignificantDigits: 2,\r\n        style: 'currency', currency: 'IDR'}).format(number);\r\n}","import React from 'react'\r\nimport { arrayOf, string, shape, oneOfType, number, func } from 'prop-types'\r\nimport { config } from '../../config'\r\nimport {\r\n    CardItem,\r\n    Button,\r\n    Text\r\n    } from 'upkit'\r\nimport FaArrowRight from \"@meronex/icons/fa/FaArrowRight\";\r\nimport FaCartPlus from \"@meronex/icons/fa/FaCartPlus\";\r\n\r\nimport { sumPrice } from '../../utils/sum-price';\r\nimport { formatRupiah } from '../../utils/format-rupiah';\r\n\r\nconst Cart = ({items, onItemInc, onItemDec, onCheckout}) => {\r\n    let total = sumPrice(items);\r\n\r\n    return (\r\n        <div >\r\n              {!items.length ? <div className=\"text-center text-sm text-red-900\"> belum ada items di keranjang </div> : null}\r\n              <div className=\"px-2 border-b mt-5 pb-5\">\r\n                <div className=\"text-3xl flex items-center text-red-700\">\r\n                    <FaCartPlus/>\r\n                    <div className=\"ml-2\">\r\n                        Keranjang\r\n                    </div>\r\n                </div>\r\n            \r\n            \r\n                <Text as=\"h5\">Total: {formatRupiah(total)}</Text>\r\n                <Button\r\n                    text=\"Checkout\"\r\n                    fitContainer\r\n                    iconAfter={<FaArrowRight/>}\r\n                    disabled={!items.length}\r\n                    onClick={onCheckout}\r\n                />\r\n            </div>\r\n\r\n              <div className=\"p-2\">\r\n                {items.map((item, index) => {\r\n                    return <div key={index} className=\"mb-2\">\r\n                    <CardItem\r\n                        imgUrl={`${config.api_host}/upload/${item.image_url}`}\r\n                        name={item.name}\r\n                        qty={item.qty}\r\n                        color=\"orange\"\r\n                        onInc={_ => onItemInc(item)}\r\n                        onDec={_ => onItemDec(item)}\r\n                    />\r\n                    </div>\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nCart.propTypes = {\r\n    items: arrayOf(shape({\r\n    _id: string.isRequired,\r\n    name: string.isRequired,\r\n    qty: oneOfType([string, number]).isRequired\r\n    })),\r\n    onItemInc: func,\r\n    onItemDec: func,\r\n    onCheckout: func,\r\n}\r\n\r\nexport default Cart\r\n","const menus = [\r\n    {icon: '/images/menus/semua.png', label: 'semua', id: ''},\r\n    {icon: '/images/menus/utama.png', label: 'utama', id: 'utama'},\r\n    {icon: '/images/menus/minuman.png', label: 'minuman', id:\r\n    'minuman'},\r\n    {icon: '/images/menus/snack.png', label: 'snack', id: 'snack'},\r\n    {icon: '/images/menus/pastry.png', label: 'pastry', id: 'pastry'},\r\n    ];\r\n    // export supaya bisa dipakai di file lain\r\nexport default menus;","import axios from 'axios';\r\nimport { config } from '../config';\r\n\r\nexport async function getProducts(params){\r\n    return await axios\r\n        .get(`${config.api_host}/api/products`, {\r\n        params,\r\n    });\r\n}","import debounce from 'debounce-promise';\r\n\r\nimport {\r\n    SUCCESS_FETCHING_PRODUCT,\r\n    START_FETCHING_PRODUCT,\r\n    ERROR_FETCHING_PRODUCT,\r\n    SET_PAGE,\r\n    SET_KEYWORD,\r\n    SET_CATEGORY,\r\n    SET_TAGS,\r\n    TOGGLE_TAG,\r\n    PREV_PAGE,\r\n    NEXT_PAGE\r\n} from './constants';\r\n\r\nimport { getProducts } from '../../api/product';\r\nlet debouncedFetchProducts = debounce(getProducts, 1000);\r\n\r\nexport const fetchProducts = () => {\r\n\r\n    return  async (dispatch, getState) => {\r\n  \r\n      dispatch(startFetchingProducts());\r\n  \r\n      let perPage = getState().products.perPage || 9;\r\n      let currentPage = getState().products.currentPage || 1;\r\n      let tags = getState().products.tags || [];\r\n      let keyword = getState().products.keyword || '';\r\n      let category = getState().products.category || '';\r\n  \r\n      const params = {\r\n        limit: perPage, \r\n        skip: (currentPage * perPage) - perPage,\r\n        q: keyword,\r\n        tags,\r\n        category\r\n      }\r\n  \r\n      try{\r\n        let { data: {data, count} } = await debouncedFetchProducts(params);\r\n        dispatch(successFetchingProducts({data, count}));\r\n      } catch(err) {\r\n        dispatch(errorFetchingProducts());\r\n      }\r\n  \r\n    }\r\n  }\r\n\r\nexport const startFetchingProducts = () => {\r\n    return {\r\n        type: START_FETCHING_PRODUCT\r\n    }\r\n}\r\nexport const errorFetchingProducts = () => {\r\n    return {\r\n        type: ERROR_FETCHING_PRODUCT\r\n    }\r\n}\r\n\r\nexport const successFetchingProducts = ({data, count}) => {\r\n    return {\r\n        type: SUCCESS_FETCHING_PRODUCT,\r\n        data,\r\n        count\r\n    }\r\n}\r\n\r\nexport const setPage = (number = 1) => {\r\n  return {\r\n    type: SET_PAGE,\r\n    currentPage: number\r\n  }\r\n}\r\n\r\nexport const setKeyword = keyword => {\r\n  return {\r\n    type: SET_KEYWORD,\r\n    keyword\r\n  }\r\n}\r\n\r\nexport const setCategory = category => {\r\n  return {\r\n    type: SET_CATEGORY,\r\n    category\r\n  }\r\n}\r\n\r\nexport const setTags = tags => {\r\n  return {\r\n    type: SET_TAGS,\r\n    tags\r\n  }\r\n}\r\n\r\nexport const toggleTag = tag => {\r\n  return {\r\n    type: TOGGLE_TAG,\r\n    tag\r\n  };\r\n}\r\n\r\nexport const goToNextPage = () => {\r\n  return {\r\n    type: NEXT_PAGE,\r\n  }\r\n}\r\n\r\nexport const goToPrevPage = () => {\r\n  return {\r\n    type: PREV_PAGE\r\n  }\r\n}","import { ADD_ITEM, REMOVE_ITEM, CLEAR_ITEMS, SET_ITEMS } from\r\n'./constants';\r\n\r\nexport function addItem(item){\r\n    return {\r\n        type: ADD_ITEM,\r\n        item\r\n    }\r\n}\r\n\r\nexport function removeItem(item){\r\n    return {\r\n        type: REMOVE_ITEM,\r\n        item\r\n    }\r\n}\r\n\r\nexport function clearItems(){\r\n    return {\r\n        type: CLEAR_ITEMS\r\n    }\r\n}\r\n\r\nexport function setItems(items){\r\n    return {\r\n        type: SET_ITEMS,\r\n        items\r\n    }\r\n}","export const tags = {\r\n    '': ['burger', 'pizza', 'bread','cheese', 'strawberry', 'muffin','fried', 'bread', 'coffee', 'tea', 'hot', 'cold'],\r\n    utama: ['burger', 'pizza', 'bread'],\r\n    pastry: ['cheese', 'strawberry', 'muffin' ],\r\n    snack: ['fried', 'bread', 'cheese', 'coffee'], \r\n    minuman: ['coffee', 'tea', 'hot', 'cold'],\r\n  }\r\n\r\n","import store from './store';\r\nimport { saveCart } from '../api/cart';\r\n\r\nlet currentAuth;\r\nlet currentCart;\r\n\r\nfunction listener(){\r\n    // (1) buat variabel previousAuth dan berikan currentAuth sebagai nilai\r\n    let previousAuth = currentAuth;\r\n    let previousCart = currentCart;\r\n\r\n    // let { token } = currentAuth;\r\n    \r\n    // (2) update nilai currentAuth dari nilai state terbaru\r\n    currentAuth = store.getState().auth;\r\n    currentCart = store.getState().cart;\r\n\r\n    let { token } = currentAuth;\r\n\r\n    // (3) cek apakah nilai state `auth` berubah dari nilai sebelumnya\r\n    if(currentAuth !== previousAuth){\r\n        // (4) jika berubah simpan ke localStorage\r\n        localStorage.setItem('auth', JSON.stringify(currentAuth));\r\n\r\n        saveCart(token, currentCart);\r\n    }\r\n\r\n    if(currentCart !== previousCart){\r\n        localStorage.setItem('cart', JSON.stringify(currentCart));\r\n\r\n        saveCart(token, currentCart);\r\n    }\r\n}\r\n\r\n\r\nfunction listen(){\r\n    store.subscribe(listener)\r\n}\r\n\r\nexport { listen }","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { SideNav,\r\n    LayoutSidebar,\r\n    Responsive,\r\n    CardProduct,\r\n    Pagination,\r\n    InputText,\r\n    Pill\r\n} from 'upkit';\r\nimport BounceLoader from 'react-spinners/BounceLoader';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport TopBar from '../../components/TopBar';\r\nimport Cart from '../../components/Cart';\r\nimport menus from './menus';\r\nimport { config } from '../../config';\r\nimport {\r\n    fetchProducts,\r\n    setPage, // (1) import `setPage`\r\n    goToNextPage, // (2) import `goToNextPage`\r\n    goToPrevPage, // (3) import `goToPrevPage`\r\n    setKeyword,\r\n    setCategory,\r\n    toggleTag,\r\n    } from '../../features/Products/actions';\r\nimport { addItem, removeItem } from '../../features/Cart/actions';\r\n\r\nimport { tags } from './tags';\r\n\r\n\r\nconst Home = () => {\r\n\r\n    let dispatch = useDispatch();\r\n    let products = useSelector(state => state.products);\r\n    let cart = useSelector(state => state.cart);\r\n\r\n    let history = useHistory();\r\n\r\n    React.useEffect(() => {\r\n        dispatch(fetchProducts());\r\n    }, [dispatch, products.currentPage, products.keyword, products.category, products.tags]);\r\n\r\n    return (\r\n        <div>\r\n            <LayoutSidebar \r\n            sidebar={\r\n                <SideNav\r\n                items={menus}\r\n                verticalAlign=\"top\"\r\n                active={products.category}\r\n                onChange={category => dispatch(setCategory(category))}\r\n                />\r\n            }\r\n\r\n            content={<div className=\"md:flex md:flex-row-reverse w-full mr-5 h-full min-h-screen\">\r\n\r\n                        <div className=\"w-full md:w-3/4 pl-5 pb-10\">\r\n\r\n                            <TopBar/>\r\n\r\n                            <div className=\"w-full text-center mb-10 mt-5\">\r\n                                <InputText\r\n                                    fullRound\r\n                                    value={products.keyword}\r\n                                    placeholder=\"cari makanan favoritmu...\"\r\n                                    fitContainer\r\n                                    onChange={e => {\r\n                                    dispatch(setKeyword(e.target.value))\r\n                                }}\r\n                                />\r\n                            </div>\r\n                            \r\n                            <div className=\"mb-5 pl-2 flex w-3/3 overflow-auto pb-5\">\r\n                            {tags[products.category].map((tag, index) => {\r\n                                return <div key={index}>\r\n                                <Pill\r\n                                    text={tag}\r\n                                    icon={tag.slice(0,1).toUpperCase()}\r\n                                    isActive={products.tags.includes(tag)}\r\n                                    onClick={_ => dispatch(toggleTag(tag))}\r\n                                />\r\n                                </div>\r\n                            })}\r\n                            </div>\r\n\r\n                            {products.status === 'process' && !products.data.length ?\r\n                            <div className=\"flex justify-center\">\r\n                                <BounceLoader color=\"red\"/>\r\n                            </div>\r\n                            : null}\r\n\r\n                            <Responsive desktop={3} items=\"stretch\">\r\n                                {products.data.map((product, index) => {\r\n                                return <div key={index} className=\"p-2\">\r\n                                        <CardProduct\r\n                                        title={product.name}\r\n                                        imgUrl={`${config.api_host}/upload/${product.image_url}`}\r\n                                        price={product.price}\r\n                                        onAddToCart={_ => dispatch(addItem(product))}\r\n                                        />\r\n                                      </div>\r\n                                })}\r\n                            </Responsive>\r\n                            <div className=\"text-center my-10\">\r\n                            <Pagination\r\n                                totalItems={products.totalItems}\r\n                                page={products.currentPage}\r\n                                perPage={products.perPage}\r\n                                onChange={page => dispatch(setPage(page))}\r\n                                onNext={_ => dispatch(goToNextPage())}\r\n                                onPrev={_ => dispatch(goToPrevPage())}\r\n                            />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"w-full md:w-1/4 h-full shadow-lg border-r border-white bg-gray-100\">\r\n                            <Cart\r\n                                items={cart}\r\n                                onItemInc={item => dispatch(addItem(item))}\r\n                                onItemDec={item => dispatch(removeItem(item))}\r\n                                onCheckout={_ => {history.push(\"/checkout\")}}\r\n                            />\r\n                        </div>\r\n                    </div>}\r\n            sidebarSize={80}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import axios from 'axios';\r\nimport { config } from '../config';\r\nimport store from '../app/store';\r\nimport { setItems } from '../features/Cart/actions';\r\n\r\n\r\nexport async function saveCart(token, cart){\r\n    return await axios.put(`${config.api_host}/api/carts`, {items: cart}, {\r\n        headers: {\r\n            authorization: `Bearer ${token}`\r\n        }\r\n    });\r\n}\r\n\r\nexport async function getCart(){\r\n\r\n    let { token } = localStorage.getItem('auth')\r\n        ? JSON.parse(localStorage.getItem('auth')) : {};\r\n\r\n    if(!token) return;\r\n\r\n    let { data } = await axios\r\n        .get(`${config.api_host}/api/carts`, {\r\n            headers: {\r\n                authorization: `Bearer ${token}`\r\n            }\r\n        });\r\n\r\n    if(!data.error){\r\n        store.dispatch(setItems(data));\r\n    }\r\n\r\n}","const rules = {\r\n    full_name: {\r\n        required: { value: true, message: 'Nama lengkap harus diisi.'},\r\n        maxLength: { value: 500, message: 'Panjang nama lengkap maksimal 500 karakter.'}\r\n    },\r\n    email: {\r\n        required: { value: true, message: 'Email harus diisi.'},\r\n        maxLength: { value: 255, message: 'Panjang email maksimal 255 karakter.'},\r\n        pattern: {value: /^([\\w-.]+@([\\w-]+.)+[\\w-]{2,4})?$/, message: 'Email tidak valid'},\r\n    },\r\n    password: {\r\n        required: { value: true, message: 'Password harus diisi.'},\r\n        maxLength: { value: 255, message: 'Panjang password maksimal 255 karakter.'}\r\n    },\r\n    password_confirmation: {\r\n        required: { value: true, message: 'Konfirmasi password harus diisi.'},\r\n    }\r\n}\r\n\r\nexport { rules }","import axios from 'axios';\r\n\r\nimport { config } from '../config';\r\n\r\nexport async function registerUser(data){\r\n    return await axios.post(`${config.api_host}/auth/register`, data);\r\n}\r\n\r\nexport async function login(email, password){\r\n    return await axios.post(`${config.api_host}/auth/login`, {email, password});\r\n}\r\n\r\nexport async function logout(){\r\n    let { token } = localStorage.getItem('auth') ? JSON.parse(localStorage.getItem('auth')) : {};\r\n\r\n    return await axios.post(`${config.api_host}/auth/logout`, null, {\r\n        headers: {\r\n            authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n    .then((response) => {\r\n        localStorage.removeItem('auth');\r\n            return response;\r\n    });\r\n}","import React from 'react'\r\nimport { LayoutOne, FormControl, InputText, InputPassword, Card, Button } from 'upkit'\r\nimport StoreLogo from '../../components/StoreLogo'\r\nimport { useForm } from 'react-hook-form';\r\nimport { rules } from './validation';\r\n\r\nimport { registerUser } from '../../api/auth';\r\nimport { useHistory, Link } from 'react-router-dom';\r\n\r\nconst statuslist = {\r\n    idle: 'idle',\r\n    process: 'process',\r\n    success: 'success',\r\n    error: 'error',\r\n}\r\n\r\n\r\nconst Register = () => {\r\n    let { register, handleSubmit, errors, setError } = useForm();\r\n    const [status, setStatus] = React.useState(statuslist.idle);\r\n    let history = useHistory();\r\n\r\n    const onSubmit = async formData => {\r\n        let { password, password_confirmation } = formData;\r\n\r\n        if(password !== password_confirmation) {\r\n            return setError('password_confirmation', { type: 'equality', message: 'Konfirmasi password harus sama dengan password'});\r\n        }\r\n\r\n        setStatus(statuslist.process);\r\n\r\n        let { data } = await registerUser(formData);\r\n\r\n        if(data.error){\r\n            let fields = Object.keys(data.fields);\r\n\r\n            fields.forEach(field => {\r\n                setError(field, {type: 'server', message: data.fields[field]?.properties?.message})\r\n            });\r\n\r\n            setStatus(statuslist.error)\r\n        }\r\n\r\n        setStatus(statuslist.success)\r\n        history.push('/register/berhasil');\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <LayoutOne size=\"small\">\r\n                <Card color=\"white\">\r\n                    <div className=\"text-center mb-5\">\r\n                        <StoreLogo />\r\n                    </div>\r\n                    <form onSubmit={handleSubmit(onSubmit)}>\r\n                        <FormControl errorMessage={errors.full_name?.message}>\r\n                            <InputText \r\n                                name=\"full_name\"\r\n                                placeholder=\"Nama Lengkap\"\r\n                                ref={register(rules.full_name)}\r\n                                fitContainer\r\n                            />\r\n                        </FormControl>\r\n                        <FormControl errorMessage={errors.email?.message}>\r\n                            <InputText\r\n                                name=\"email\"\r\n                                placeholder=\"Email\"\r\n                                ref={register(rules.email)}\r\n                                fitContainer\r\n                            />\r\n                        </FormControl>\r\n                        <FormControl errorMessage={errors.password?.message}>\r\n                            <InputPassword\r\n                                name=\"password\"\r\n                                placeholder=\"Password\"\r\n                                ref={register(rules.password)}\r\n                                fitContainer\r\n                            />\r\n                        </FormControl>\r\n                        <FormControl errorMessage={errors.password_confirmation?.message}>\r\n                            <InputPassword\r\n                                name=\"password_confirmation\"\r\n                                placeholder=\"Konfirmasi Password\"\r\n                                ref={register(rules.password_confirmation)}\r\n                                fitContainer\r\n                            />\r\n                        </FormControl>\r\n                        <Button\r\n                            size=\"large\"\r\n                            fitContainer\r\n                            disabled={status === statuslist.process}\r\n                        > {status === statuslist.process ? \"Sedang memproses\" : \"Mendaftar\"} </Button>\r\n                    </form>\r\n                    <div className=\"text-center mt-2\">\r\n                        Sudah punya akun? <Link to=\"/login\"> <b> Masuk Sekarang. </b> </Link>\r\n                    </div>\r\n                </Card>\r\n            </LayoutOne>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register\r\n","import React from 'react'\r\nimport { LayoutOne, Card, Text, Button } from 'upkit'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst RegisterSuccess = () => {\r\n    return (\r\n        <LayoutOne size=\"small\">\r\n            <Card color=\"white\">\r\n                <div className=\"text-center\">\r\n                    <Text as=\"h3\">\r\n                        Pendaftaran Berhasil\r\n                    </Text>\r\n                    <Text>\r\n                        Silahkan masuk ke aplikasi\r\n                    </Text>\r\n                    <br />\r\n                    <Link to=\"/login\">\r\n                        <Button fitContainer>\r\n                            Masuk\r\n                        </Button>\r\n                    </Link>\r\n                </div>\r\n            </Card>\r\n        </LayoutOne>\r\n    )\r\n}\r\n\r\nexport default RegisterSuccess\r\n","import { USER_LOGIN, USER_LOGOUT } from \"./constants\";\r\n// (2) action userLogin\r\nexport function userLogin(user, token){\r\n    return {\r\n        type: USER_LOGIN,\r\n        user,\r\n        token\r\n    }\r\n}\r\n\r\n// (3) action userLogout\r\nexport function userLogout(){\r\n    return {\r\n        type: USER_LOGOUT\r\n    }\r\n}","\r\n\r\nconst rules = {\r\n    email: {\r\n        required: {value: true, message: 'Email tidak boleh kosong.'},\r\n        maxLength: {value: 255, message: 'Panjang email maksimal 255 arakter'}\r\n    },\r\n    password: {\r\n        required: {value: true, message: 'Password tidak boleh kosong.'},\r\n        maxLength: {value: 255, message: 'Panjang password maksimal 255 karakter.'}\r\n        }\r\n    }\r\n\r\nexport {rules}","import * as React from 'react';\r\nimport { InputText, InputPassword, Button, FormControl, Card,\r\nLayoutOne} from 'upkit';\r\nimport { useForm } from 'react-hook-form';\r\nimport {useHistory, Link} from 'react-router-dom';\r\nimport StoreLogo from '../../components/StoreLogo';\r\nimport {useDispatch} from 'react-redux';\r\nimport {userLogin} from '../../features/Auth/actions';\r\nimport {rules} from './validation';\r\nimport { login } from '../../api/auth';\r\n\r\nconst statuslist = {\r\n    idle: 'idle',\r\n    process: 'process',\r\n    success: 'success',\r\n    error: 'error',\r\n}\r\n\r\nconst Login = () => {\r\n    const { register, handleSubmit, errors, setError } = useForm();\r\n    const [status, setStatus] = React.useState(statuslist.idle);\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n    const onSubmit = async ({email, password}) => {\r\n        setStatus(statuslist.process);\r\n        let { data } = await login(email, password);\r\n\r\n        if(data.error){\r\n            setError('password', {type: 'invalidCredential', message:\r\n            data.message});\r\n            setStatus(statuslist.error);\r\n        } else {\r\n            let {user, token} = data;\r\n            dispatch(userLogin(user, token));\r\n            history.push('/');\r\n        }\r\n        setStatus(statuslist.success);\r\n    }\r\n\r\n\r\n    return (\r\n        <LayoutOne size=\"small\">\r\n        <br/>\r\n        <Card color=\"white\">\r\n            <div className=\"text-center mb-5\">\r\n                <StoreLogo/>\r\n            </div>\r\n\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n                <FormControl errorMessage={errors.email?.message}>\r\n                    <InputText\r\n                    placeholder=\"email\"\r\n                    fitContainer\r\n                    name=\"email\"\r\n                    ref={register(rules.email)}\r\n                    />\r\n                </FormControl>\r\n\r\n                <FormControl errorMessage={errors.password?.message}>\r\n                    <InputPassword\r\n                    placeholder=\"password\"\r\n                    name=\"password\"\r\n                    fitContainer\r\n                    ref={register(rules.password)}\r\n                    />\r\n                </FormControl>\r\n                <Button fitContainer size=\"large\" disabled={status ===\r\n                'process'}>\r\n                Login\r\n                </Button>\r\n                </form>\r\n                \r\n            <div className=\"text-center mt-2\">\r\n            Belum punya akun? <Link to=\"/register\"><b>Daftar sekarang.\r\n            </b></Link>\r\n            </div>\r\n        </Card>\r\n        </LayoutOne>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import * as React from 'react';\r\nimport { oneOf, number, oneOfType, string, func, shape } from 'prop-types';\r\nimport axios from 'axios';\r\nimport { Select } from 'upkit';\r\n\r\nimport { config } from '../../config';\r\n\r\nexport default function SelectWilayah({tingkat, kodeInduk, onChange, value}){\r\n\r\n    let [ data, setData ] = React.useState([]);\r\n    let [ isFetching, setIsFetching ] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        setIsFetching(true);\r\n        \r\n        axios.get(`${config.api_host}/api/wilayah/${tingkat}?kode_induk=${kodeInduk}`)\r\n        .then(({data}) => {\r\n            if(!data.error){\r\n                setData(data)\r\n            }\r\n        })\r\n        .finally(_ => setIsFetching(false))\r\n    }, [kodeInduk, tingkat]);\r\n\r\n    return <Select\r\n        options={data.map(wilayah => ({label: wilayah.nama, value:\r\n        wilayah.kode}))}\r\n        onChange={onChange}\r\n        value={value}\r\n        isLoading={isFetching}\r\n        isDisabled={isFetching || !data.length}\r\n    />\r\n}\r\n\r\nSelectWilayah.defaultProps = {\r\n    tingkat: 'provinsi'\r\n}\r\n\r\nSelectWilayah.propTypes = {\r\n    tingkat: oneOf(['provinsi', 'kabupaten', 'kecamatan', 'desa']),\r\n    kodeInduk: oneOfType([number, string]),\r\n    onChange: func,\r\n    value: shape({label: string, value: oneOfType([string, number])})\r\n}","import axios from 'axios';\r\nimport { config } from '../config';\r\n\r\nexport async function getAddress(params){\r\n    let { token } = localStorage.getItem('auth')\r\n    ? JSON.parse(localStorage.getItem('auth')) : {};\r\n    return await axios\r\n        .get(`${config.api_host}/api/delivery-addresses`, {\r\n            params: {\r\n                limit: params.limit,\r\n                skip: params.page * params.limit - params.limit\r\n            },\r\n            headers: {\r\n                authorization: `Bearer ${token}`\r\n            }\r\n        });\r\n}\r\n\r\nexport async function createAddress(payload){\r\n    \r\n    let { token } = localStorage.getItem('auth')\r\n    ? JSON.parse(localStorage.getItem('auth')) : {};\r\n\r\n    return await axios.post(config.api_host + '/api/delivery-addresses', payload, {\r\n        headers: {\r\n            authorization: `Bearer ${token}`\r\n        }\r\n    });\r\n}","const rules = {\r\n    nama_alamat: {\r\n        required: { value: true, message: 'Nama alamat tidak boleh kosong.'},\r\n        maxLength: { value: 500, message: 'Panjang nama alamat maksimal 500 karakter'},\r\n        minLength: { value: 5, message: 'Panjang nama alamat minimal 5 karakter'}\r\n    },\r\n    provinsi: {\r\n        required: { value: true, message: 'Provinsi harus dipilih.'}\r\n    },\r\n    kabupaten: {\r\n        required: { value: true, message: 'Kabupaten harus dipilih.'}\r\n    },\r\n    kecamatan: {\r\n        required: { value: true, message: 'Kecamatan harus dipilih.'}\r\n    },\r\n    kelurahan: {\r\n        required: { value: true, message: 'Kelurahan harus dipilih.'}\r\n    },\r\n    detail_alamat: {\r\n        required: { value: true, message: 'Detail alamat harus diisi'},\r\n        maxLength: { value: 1000, message: 'Panjang detail alamat maksimal 1000 karakter'}\r\n    }\r\n}\r\nexport { rules };","import * as React from 'react'; \r\nimport {LayoutOne, InputText, FormControl, Textarea, Button} from 'upkit';\r\nimport {useForm} from 'react-hook-form';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport TopBar from '../../components/TopBar';\r\nimport SelectWilayah from '../../components/SelectWilayah';\r\nimport { createAddress } from '../../api/address';\r\nimport { rules } from './validation';\r\n\r\nexport default function UserAddressAdd(){\r\n\r\n  let history = useHistory(); \r\n  let { handleSubmit, register, errors, setValue, watch, getValues } = useForm();\r\n\r\n  let allFields = watch();\r\n\r\n\tReact.useEffect(() => {\r\n\t\tregister({name: 'provinsi'}, rules.provinsi);\r\n\t\tregister({name: 'kabupaten'}, rules.kabupaten);\r\n\t\tregister({name: 'kecamatan'}, rules.kecamatan);\r\n\t\tregister({name: 'kelurahan'}, rules.kelurahan);\r\n\t}, [register])\r\n\r\n  \r\n  React.useEffect(() => {\r\n    setValue('kabupaten', null); \r\n    setValue('kecamatan', null); \r\n    setValue('kelurahan', null);\r\n  }, [allFields.provinsi, setValue])\r\n\r\n  React.useEffect(() => {\r\n    setValue('kecamatan', null); \r\n    setValue('kelurahan', null);\r\n  }, [allFields.kabupaten, setValue]) \r\n\r\n  React.useEffect(() => {\r\n    setValue('kelurahan', null);\r\n  }, [allFields.kecamatan, setValue]) \r\n\r\n  const updateValue = \r\n    (field, value) => setValue(field, value, {shouldValidate: true, shouldDirty: true});\r\n\r\n  const onSubmit = async formData => {\r\n     let payload = {\r\n        nama: formData.nama_alamat, \r\n        detail: formData.detail_alamat,\r\n        provinsi: formData.provinsi.label, \r\n        kabupaten: formData.kabupaten.label, \r\n        kecamatan: formData.kecamatan.label, \r\n        kelurahan: formData.kelurahan.label\r\n     }\r\n\r\n    let { data } = await createAddress(payload);\r\n\r\n    if(data.error) return;\r\n\r\n    history.push('/alamat-pengiriman');\r\n\r\n  }\r\n\r\n\r\n  return (\r\n     <LayoutOne>\r\n       <TopBar/>\r\n       <br />\r\n       <div>\r\n         <form onSubmit={handleSubmit(onSubmit)}>\r\n           <FormControl label=\"Nama alamat\" errorMessage={errors.nama_alamat?.message} color=\"black\">\r\n             <InputText\r\n               placeholder=\"Nama alamat\"\r\n               fitContainer\r\n               name=\"nama_alamat\"\r\n               ref={register(rules.nama_alamat)}\r\n             />\r\n           </FormControl>\r\n           <FormControl label=\"Provinsi\" errorMessage={errors.provinsi?.message} color=\"black\">\r\n             <SelectWilayah\r\n                onChange={option => updateValue('provinsi', option)}\r\n                name=\"provinsi\"\r\n                value={getValues().provinsi}\r\n             />\r\n           </FormControl>\r\n           <FormControl label=\"Kabupaten/kota\" errorMessage={errors.kabupaten?.message} color=\"black\">\r\n             <SelectWilayah\r\n               tingkat=\"kabupaten\"\r\n               kodeInduk={getValues().provinsi?.value}\r\n               onChange={option => updateValue('kabupaten', option)}\r\n               value={getValues().kabupaten}\r\n             />\r\n           </FormControl>\r\n           <FormControl label=\"Kecamatan\" errorMessage={errors.kecamatan?.message} color=\"black\">\r\n             <SelectWilayah\r\n               tingkat=\"kecamatan\"\r\n               kodeInduk={getValues().kabupaten?.value}\r\n               onChange={ option => updateValue('kecamatan', option)}\r\n               value={getValues().kecamatan}\r\n             />\r\n           </FormControl>\r\n           <FormControl label=\"Kelurahan\" errorMessage={errors.kelurahan?.message} color=\"black\" >\r\n             <SelectWilayah\r\n               tingkat=\"desa\"\r\n               kodeInduk={getValues().kecamatan?.value}\r\n               onChange={ option => updateValue('kelurahan', option)}\r\n               value={getValues().kelurahan}\r\n             />\r\n           </FormControl>\r\n           <FormControl label=\"Detail alamat\" errorMessage={errors.detail_alamat?.message} color=\"black\">\r\n             <Textarea\r\n               placeholder=\"Detail alamat\"\r\n               fitContainer\r\n               name=\"detail_alamat\"\r\n               ref={register(rules.detail_alamat)}\r\n             />\r\n           </FormControl>\r\n\r\n           <Button fitContainer>\r\n             Simpan\r\n           </Button>\r\n         </form>\r\n       </div>\r\n     </LayoutOne>\r\n   )\r\n}","import * as React from 'react'; \r\n\r\nimport { getAddress } from '../api/address';\r\n\r\nconst statuslist = {\r\n  idle: 'idle', \r\n  process: 'process', \r\n  success: 'success',\r\n  error: 'error'\r\n}\r\n\r\nexport function useAddressData(){\r\n  let [data, setData] = React.useState([]);\r\n  let [count, setCount] = React.useState(0);\r\n  let [status, setStatus] = React.useState(statuslist.idle);\r\n  let [page, setPage] = React.useState(1);\r\n  let [limit, setLimit] = React.useState(10);\r\n\r\n\r\n  let fetchAddress = React.useCallback(async function(){\r\n\r\n    setStatus(statuslist.process);\r\n\r\n    let { data: {data, count, error}} = await getAddress({page, limit});\r\n\r\n    if(error){\r\n      setStatus(statuslist.error);\r\n      return\r\n    }\r\n\r\n\r\n    setStatus(statuslist.success);\r\n    setData(data); \r\n    setCount(count);\r\n\r\n  }, [page, limit]); \r\n  \r\n  React.useEffect(() => {\r\n    fetchAddress();\r\n  }, [fetchAddress]);\r\n\r\n\r\n  // (1) mengembalikan lokal _state_ dan beberapa fungsi udpater \r\n  return {\r\n    data, \r\n    count, \r\n    status, \r\n    page, \r\n    limit, \r\n    setPage, \r\n    setLimit\r\n  }\r\n\r\n}\r\n","import React from 'react'\r\nimport { LayoutOne, Text, Table, Button } from 'upkit';\r\nimport { Link } from 'react-router-dom';\r\nimport TopBar from '../../components/TopBar';\r\nimport { useAddressData } from '../../hooks/address';\r\n\r\nconst columns = [\r\n    { Header: 'Nama', accessor: 'nama'},\r\n    { Header: 'Detail', accessor: alamat => {\r\n        return <div>\r\n                {alamat.provinsi}, {alamat.kabupaten}, {alamat.kecamatan},\r\n                {alamat.kelurahan} <br/>\r\n                {alamat.detail}\r\n                </div>\r\n        }}\r\n];\r\n\r\n\r\nconst UserAddress = () => {\r\n    let {\r\n        data,\r\n        limit,\r\n        page,\r\n        status,\r\n        count,\r\n        setPage\r\n        } = useAddressData();\r\n\r\n    return (\r\n        <LayoutOne size=\"large\">\r\n        <div>\r\n            <TopBar/>\r\n            <Text as=\"h3\"> Alamat pengiriman </Text>\r\n            <br />\r\n            <Link to=\"alamat-pengiriman/tambah\">\r\n                <Button>\r\n                    Tambah baru\r\n                </Button>\r\n            </Link>\r\n            <br/>\r\n            <br/>\r\n            <Table\r\n                items={data}\r\n                columns={columns}\r\n                totalItems={count}\r\n                page={page}\r\n                isLoading={status === 'process'}\r\n                perPage={limit}\r\n                onPageChange={page => setPage(page)}\r\n            />\r\n        </div>\r\n        {status === 'success' && !data.length ? <div className=\"text-center p-10\">\r\n                Kamu belum menambahkan alamat pengiriman. <br/>\r\n                <Link to=\"/alamat-pengiriman/tambah\">\r\n                    <Button> Tambah Baru </Button>\r\n                </Link>\r\n            </div> : null}\r\n        </LayoutOne>\r\n    )\r\n}\r\n\r\nexport default UserAddress\r\n","import * as axios from 'axios';\r\nimport { config } from '../config';\r\n\r\nexport async function getOrders(params){\r\n    let { token } = localStorage.getItem('auth')\r\n    ? JSON.parse(localStorage.getItem('auth')) :\r\n    {};\r\n    let { limit, page } = params;\r\n    let skip = (page * limit) - limit;\r\n    return await axios\r\n    .get(`${config.api_host}/api/orders`, {\r\n      params: {\r\n      skip,\r\n      limit\r\n      },\r\n      headers: {\r\n      authorization: `Bearer ${token}`\r\n      }\r\n    });\r\n}\r\n\r\nexport async function createOrder(payload){\r\n  let { token } = localStorage.getItem('auth')\r\n  ? JSON.parse(localStorage.getItem('auth')) :\r\n  {};\r\n  \r\n  return await axios.post(`${config.api_host}/api/orders`, payload, {\r\n    headers: {\r\n    authorization: `Bearer ${token}`\r\n    }\r\n  });\r\n}","import React from 'react'\r\nimport { Link, useHistory, Redirect } from 'react-router-dom';\r\nimport { config } from '../../config'\r\nimport { formatRupiah } from '../../utils/format-rupiah'\r\nimport { sumPrice } from '../../utils/sum-price';\r\nimport TopBar from '../../components/TopBar'\r\nimport { LayoutOne, Text, Steps, Table, Button,Responsive } from 'upkit'\r\n\r\nimport FaCartPlus from '@meronex/icons/fa/FaCartPlus';\r\nimport FaAddressCard from '@meronex/icons/fa/FaAddressCard';\r\nimport FaInfoCircle from '@meronex/icons/fa/FaInfoCircle';\r\nimport FaArrowRight from '@meronex/icons/fa/FaArrowRight';\r\nimport FaArrowLeft from '@meronex/icons/fa/FaArrowLeft';\r\nimport FaRegCheckCircle from '@meronex/icons/fa/FaRegCheckCircle';\r\n\r\n\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { clearItems } from '../../features/Cart/actions';\r\n\r\nimport { useAddressData } from '../../hooks/address';\r\n\r\nimport { createOrder } from '../../api/order';\r\n\r\n\r\nconst IconWrapper = ({children}) => {\r\n    return <div className=\"text-3xl flex justify-center\">\r\n    {children}\r\n    </div>\r\n}\r\n\r\nconst steps = [\r\n    {\r\n    label: 'Item',\r\n    icon: <IconWrapper><FaCartPlus/></IconWrapper>\r\n    },\r\n    {\r\n    label: 'Alamat',\r\n    icon: <IconWrapper><FaAddressCard/></IconWrapper>\r\n    },\r\n    {\r\n    label: 'Konfirmasi',\r\n    icon: <IconWrapper><FaInfoCircle/></IconWrapper>\r\n    }\r\n];\r\n\r\nconst columns = [\r\n    {\r\n    Header: 'Nama produk',\r\n    accessor: item => <div className=\"flex items-center\">\r\n    <img src={`${config.api_host}/upload/${item.image_url}`} width={48} alt={item.name}/>\r\n        {item.name}\r\n    </div>\r\n    },\r\n    {\r\n        Header: 'Jumlah',\r\n        accessor: 'qty'\r\n    },\r\n    {\r\n        Header: 'Harga satuan',\r\n        id: 'price',\r\n        accessor: item => <span> @ {formatRupiah(item.price)} </span>\r\n    },\r\n    {\r\n        Header: 'Harga total',\r\n        id: 'subtotal',\r\n        accessor: item => {\r\n            return <div>\r\n                { formatRupiah(item.price * item.qty)}\r\n            </div>\r\n        }\r\n    }\r\n];\r\n\r\nconst addressColumns = [\r\n    {\r\n    Header: 'Nama alamat',\r\n    accessor: alamat => {\r\n        return <div>\r\n        {alamat.nama} <br/>\r\n        <small>\r\n        {alamat.provinsi}, {alamat.kabupaten}, {alamat.kecamatan},\r\n        {alamat.kelurahan} <br/>\r\n        {alamat.detail}\r\n        </small>\r\n        </div>\r\n        }\r\n    }\r\n];\r\n\r\nconst Checkout = () => {\r\n\r\n    let [ activeStep, setActiveStep ] = React.useState(0);\r\n\r\n    // (1) baca state `cart` dari Redux\r\n    let cart = useSelector(state => state.cart);\r\n\r\n    let {\r\n        data,\r\n        status,\r\n        limit,\r\n        page,\r\n        count,\r\n        setPage\r\n        } = useAddressData();\r\n\r\n    let [ selectedAddress, setSelectedAddress ] = React.useState(null);\r\n    \r\n    let history = useHistory();\r\n    let dispatch = useDispatch();\r\n    async function handleCreateOrder(){\r\n        let payload = {\r\n            delivery_fee: config.global_ongkir,\r\n            delivery_address: selectedAddress._id\r\n        }\r\n        let { data } = await createOrder(payload);\r\n        // (1) hentikan operasi jika terjadi error\r\n        if(data?.error) return;\r\n\r\n        history.push(`/invoice/${data._id}`);\r\n        dispatch(clearItems());\r\n    }\r\n\r\n    if(!cart.length){\r\n        return <Redirect to=\"/\" />\r\n    }\r\n    \r\n    return (\r\n        <LayoutOne>\r\n            <TopBar />\r\n            <Text as=\"h3\">Checkout</Text>\r\n            <Steps\r\n            steps={steps}\r\n            active={activeStep}\r\n            />\r\n            <br /><br />\r\n            {activeStep === 0 ?\r\n            <div>\r\n            <Table\r\n                items={cart}\r\n                columns={columns}\r\n                perPage={cart.length}\r\n                showPagination={false}\r\n            />\r\n            \r\n             <div className=\"text-right\" style={{textAlign: \"right\"}}>\r\n                <Text as=\"h4\">\r\n                    Subtotal: {formatRupiah(sumPrice(cart))}\r\n                </Text>\r\n                <div className=\"text-right\" style={{textAlign:\"right\"}}>\r\n                        <Button\r\n                        onClick={_ => setActiveStep(activeStep + 1)}\r\n                        color=\"red\"\r\n                        iconAfter={<FaArrowRight/>}>\r\n                        Selanjutnya\r\n                        </Button>\r\n                    </div>\r\n            </div>\r\n            </div>\r\n             : null }\r\n\r\n             {activeStep === 1 ?\r\n                <div>\r\n                    <Table\r\n                    items={data}\r\n                    columns={addressColumns}\r\n                    perPage={limit}\r\n                    page={page}\r\n                    onPageChange={page => setPage(page)}\r\n                    totalItems={count}\r\n                    isLoading={status === 'process'}\r\n                    selectable\r\n                    primaryKey={'_id'}\r\n                    selectedRow={selectedAddress}\r\n                    onSelectRow={ item => setSelectedAddress(item)}\r\n                    />\r\n                    {!data.length && status === 'success' ?\r\n                        <div className=\"text-center my-10\">\r\n                        <Link to=\"/alamat-pengiriman/tambah\">\r\n                        Kamu belum memiliki alamat pengiriman <br/> <br />\r\n                        <Button> Tambah alamat </Button>\r\n                        </Link>\r\n                    </div>\r\n                    : null}\r\n                    <br /> <br />\r\n                    <Responsive desktop={2} tablet={2} mobile={2}>\r\n                    <div>\r\n                        <Button\r\n                        onClick={_ => setActiveStep(activeStep - 1)}\r\n                        color=\"gray\"\r\n                        iconBefore={<FaArrowLeft/>}>\r\n                        Sebelumnya\r\n                        </Button>\r\n                    </div>\r\n                    <div className=\"text-right\" style={{textAlign:\"right\"}}>\r\n                        <Button\r\n                        onClick={_ => setActiveStep(activeStep + 1)}\r\n                        disabled={!selectedAddress}\r\n                        color=\"red\"\r\n                        iconAfter={<FaArrowRight/>}>\r\n                        Selanjutnya\r\n                        </Button>\r\n                    </div>\r\n                </Responsive>\r\n                </div>\r\n             : null }\r\n\r\n            { activeStep === 2 ?\r\n                <div>\r\n                    <Table\r\n                    columns={[\r\n                    {\r\n                        Header: '',\r\n                        accessor: 'label',\r\n                    },\r\n                    {\r\n                        Header: '',\r\n                        accessor: 'value'\r\n                    }\r\n                    ]}\r\n                    items={[\r\n                        {label: 'Alamat',\r\n                        value: <div>\r\n                            {selectedAddress.nama} <br/>\r\n                            {selectedAddress.provinsi}, {selectedAddress.kabupaten},\r\n                            {selectedAddress.kecamatan}, {selectedAddress.kelurahan} <br/>\r\n                            {selectedAddress.detail}\r\n                        </div>},\r\n                        {label: 'Subtotal', value: formatRupiah(sumPrice(cart))},\r\n                        {label: 'Ongkir', value: formatRupiah(config.global_ongkir)},\r\n                        {label: 'Total', value: <b>{formatRupiah(sumPrice(cart) + parseInt(config.global_ongkir))}</b>},\r\n                        ]}\r\n                        showPagination={false}\r\n                    />\r\n                    <br />\r\n                    <Responsive desktop={2} tablet={2} mobile={2}>\r\n                    <div>\r\n                        <Button\r\n                            onClick={_ => setActiveStep(activeStep - 1)}\r\n                            color=\"gray\"\r\n                            iconBefore={<FaArrowLeft/>}>\r\n                            Sebelumnya\r\n                        </Button>\r\n                    </div>\r\n\r\n                    <div className=\"text-right\" style={{textAlign: \"right\"}}>\r\n                        <Button\r\n                            onClick={handleCreateOrder}\r\n                            color=\"red\"\r\n                            size=\"large\"\r\n                            iconBefore={<FaRegCheckCircle/>}\r\n                            >\r\n                            Bayar\r\n                        </Button>\r\n                    </div>\r\n                </Responsive>\r\n                </div>\r\n            : null}\r\n        </LayoutOne>\r\n    )\r\n}\r\n\r\nexport default Checkout\r\n","import axios from 'axios'; \r\nimport {config} from '../config';\r\n\r\nexport async function getInvoiceByOrderId(order_id){\r\n\r\n  let { token } = localStorage.getItem('auth')\r\n     ? JSON.parse(localStorage.getItem('auth')) : {};\r\n\r\n  return await axios\r\n    .get(`${config.api_host}/api/invoices/${order_id}`, {\r\n      headers: {\r\n        authorization: `Bearer ${token}`\r\n      }\r\n    });\r\n}\r\n","import * as React from 'react';\r\nimport { Badge } from 'upkit';\r\nimport { string } from 'prop-types';\r\nexport default function StatusLabel({status}){\r\n  switch(status){\r\n    case 'waiting_payment':\r\n      return <Badge color=\"orange\">\r\n      Menunggu pembayaran\r\n      </Badge>\r\n    case 'paid':\r\n      return <Badge color=\"green\">\r\n      Sudah dibayar\r\n      </Badge>\r\n    case 'processing':\r\n      return <Badge color=\"yellow\">\r\n      Sedang diproses\r\n      </Badge>\r\n    case 'in_delivery':\r\n      return <Badge color=\"blue\">\r\n      Dalam pengiriman\r\n      </Badge>\r\n    case 'delivered':\r\n      return <Badge color=\"green\">\r\n      Pesanan diterima\r\n      </Badge>\r\n      default:\r\n      return <div/>\r\n  }\r\n}\r\n\r\n\r\nStatusLabel.defaultProps = {\r\n}\r\n\r\n\r\nStatusLabel.propTypes = {\r\n  status: string.isRequired\r\n}","import * as React from 'react'; \r\nimport { useRouteMatch } from 'react-router-dom';\r\nimport { LayoutOne, Text, Table } from 'upkit';\r\nimport BounceLoader from 'react-spinners/BounceLoader';\r\n\r\nimport TopBar from '../../components/TopBar';\r\nimport { getInvoiceByOrderId } from '../../api/invoice';\r\nimport { formatRupiah } from '../../utils/format-rupiah';\r\nimport StatusLabel from '../../components/StatusLabel';\r\nimport { config } from '../../config';\r\n\r\nexport default function Invoice(){\r\n\tlet [invoice, setInvoice] = React.useState(null);\r\n  let [error, setError] = React.useState(''); \r\n  let [status, setStatus] = React.useState('process');\r\n  let { params } = useRouteMatch();\r\n\r\n  React.useEffect(() => {\r\n    getInvoiceByOrderId(params?.order_id)\r\n      .then(({data}) => {\r\n        \r\n       if(data?.error){\r\n         setError(data.message || \"Terjadi keslahan yang tidak diketahui\");\r\n       } \r\n\r\n       setInvoice(data);\r\n      })\r\n      .finally(() => setStatus('idle'));\r\n  }, [params]);\r\n\r\n  if(error.length){\r\n    return (\r\n      <LayoutOne>\r\n        <TopBar/>\r\n        <Text as=\"h3\"> Terjadi Kesalahan </Text> \r\n        {error}\r\n      </LayoutOne>\r\n    )\r\n  }\r\n\r\n  if(status === 'process'){\r\n    return <LayoutOne>\r\n      <div className=\"text-center py-10\">\r\n        <div className=\"inline-block\">\r\n          <BounceLoader color=\"red\"/>\r\n        </div>\r\n      </div>\r\n    </LayoutOne> \r\n  }\r\n\r\n  return (\r\n\t\t<LayoutOne>\r\n\t\t\t <TopBar/>\r\n\t\t\t <Text as=\"h3\"> Invoice </Text>\r\n\t\t\t <br/>\r\n\r\n\t\t\t <Table\r\n\t\t\t\t showPagination={false}\r\n\t\t\t\t items={[\r\n\t\t\t\t\t { label: 'Status', value: <StatusLabel status={invoice?.payment_status}/>}, \r\n\t\t\t\t\t { label: 'Order ID', value: '#' + invoice?.order?.order_number}, \r\n\t\t\t\t\t { label: 'Total amount', value: formatRupiah(invoice?.total)}, \r\n\t\t\t\t\t { label: 'Billed to', value: <div>\r\n\t\t\t\t\t\t <b>{invoice?.user?.full_name} </b> <br/>\r\n\t\t\t\t\t\t\t {invoice?.user?.email} <br/> <br/>\r\n\t\t\t\t\t\t\t {invoice?.delivery_address?.detail} <br/>\r\n\t\t\t\t\t\t\t {invoice?.delivery_address?.kelurahan},\r\n\t\t\t\t\t\t\t {invoice?.delivery_address?.kecamatan} <br/>\r\n\t\t\t\t\t\t\t {invoice?.delivery_address?.kabupaten} <br/>\r\n\t\t\t\t\t\t\t {invoice?.delivery_address?.provinsi}\r\n\t\t\t\t\t </div>}, \r\n\t\t\t\t\t { label: 'Payment to', value: <div>\r\n\t\t\t\t\t\t {config.owner} <br/>\r\n\t\t\t\t\t\t {config.contact} <br/> \r\n\t\t\t\t\t\t {config.billing.account_no} <br/> \r\n\t\t\t\t\t\t {config.billing.bank_name}\r\n\t\t\t\t\t </div>}\r\n\t\t\t\t ]}\r\n\t\t\t\t columns={[\r\n\t\t\t\t\t { Header: 'Invoice', accessor: 'label'},\r\n\t\t\t\t\t { Header: '', accessor: 'value'},\r\n\t\t\t\t ]}\r\n\t\t\t />\r\n\t\t </LayoutOne>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { LayoutOne, Text, Card, Responsive } from 'upkit'\r\nimport TopBar from '../../components/TopBar'\r\n\r\nimport FaHome from '@meronex/icons/fa/FaHome';\r\nimport FaAddressBook from '@meronex/icons/fa/FaAddressBook';\r\nimport FaArrowRight from '@meronex/icons/fa/FaArrowRight';\r\nimport FaFileInvoice from '@meronex/icons/fa/FaFileInvoice';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nconst IconWrapper = ({children}) => {\r\n  return <div className=\"text-white text-5xl flex justify-center mb-5\">\r\n  {children}\r\n  </div>\r\n}\r\n\r\nconst menus = [\r\n  {label: 'Beranda', icon: <IconWrapper><FaHome/></IconWrapper>, url: '/'},\r\n  {label: 'Alamat', icon: <IconWrapper><FaAddressBook/></IconWrapper>, url: '/alamat-pengiriman'},\r\n  {label: 'Pesanan', icon: <IconWrapper><FaFileInvoice/></IconWrapper>, url: '/pesanan'},\r\n  {label: 'Logout', icon: <IconWrapper><FaArrowRight/></IconWrapper>,\r\n  url: '/logout'}\r\n];\r\n\r\n\r\nconst UserAccount = () => {\r\n  return (\r\n    <LayoutOne>\r\n      <TopBar />\r\n        <Text as=\"h3\"> Akun Anda </Text>\r\n        <br />\r\n        <Responsive desktop={4} tablet={4} mobile={2}>\r\n      {menus.map((menu, index) => {\r\n      return <div key={index} className=\"px-2 pb-2\">\r\n        <Link to={menu.url}>\r\n          <Card\r\n            header={menu.icon}\r\n            body={<div className=\"text-center\r\n            font-bold text-white\">\r\n            {menu.label}\r\n          </div>}\r\n          />\r\n        </Link>\r\n      </div>\r\n      })}\r\n      </Responsive>\r\n    </LayoutOne>\r\n  )\r\n}\r\n\r\nexport default UserAccount\r\n","import React from 'react'\r\nimport {LayoutOne, Table, Button, Text} from 'upkit';\r\nimport { Link } from 'react-router-dom';\r\nimport TopBar from '../../components/TopBar';\r\nimport StatusLabel from '../../components/StatusLabel';\r\nimport { formatRupiah } from '../../utils/format-rupiah';\r\nimport { sumPrice } from '../../utils/sum-price';\r\nimport FaFileInvoiceDollar from '@meronex/icons/fa/FaFileInvoiceDollar';\r\nimport {getOrders} from '../../api/order';\r\n\r\nconst columns = [\r\n  {\r\n  Header: '',\r\n  id: 'Status',\r\n  accessor: order => {\r\n    return <div>\r\n    #{order.order_number} <br/>\r\n    <StatusLabel status={order.status}/>\r\n    </div>\r\n  }\r\n  },\r\n  {\r\n  Header: 'Items',\r\n  accessor: order => {\r\n    return <div>\r\n    {order.order_items.map(item => {\r\n    return <div key={item._id}>\r\n    {item.name} {item.qty}\r\n    </div>\r\n    })}\r\n    </div>\r\n  }\r\n  },\r\n  {\r\n  Header: 'Total',\r\n  accessor: order => {\r\n    return <div>\r\n      {formatRupiah(sumPrice(order.order_items) + order.delivery_fee)}\r\n    </div>\r\n  }\r\n  },\r\n  {\r\n  Header: 'Invoice',\r\n  accessor: order => {\r\n    return <div>\r\n    <Link to={`/invoice/${order._id}`}>\r\n      <Button color=\"gray\" iconBefore={<FaFileInvoiceDollar/>}>\r\n        Invoice\r\n      </Button>\r\n    </Link>\r\n    </div>\r\n    }\r\n  }\r\n];\r\n\r\n\r\nconst UserOrders = () => {\r\n  let [pesanan, setPesanan] = React.useState([]);\r\n  let [count, setCount] = React.useState(0);\r\n  let [status, setStatus] = React.useState('idle');\r\n  let [page, setPage] = React.useState(1);\r\n  let [limit, setLimit] = React.useState(10);\r\n\r\n  const fetchPesanan = React.useCallback( async () => {\r\n    setStatus('process');\r\n    let { data } = await getOrders({limit, page});\r\n    if(data.error){\r\n      setStatus('error');\r\n      return;\r\n    }\r\n    setStatus('success');\r\n    setPesanan(data.data);\r\n    setCount(data.count);\r\n  }, [page, limit]);\r\n\r\n  React.useEffect(() => {\r\n    fetchPesanan();\r\n  }, [fetchPesanan]);\r\n\r\n\r\n  return (\r\n    <LayoutOne>\r\n      <TopBar/>\r\n      <Text as=\"h3\"> Pesanan Anda </Text>\r\n      <br />\r\n      <Table\r\n      items={pesanan}\r\n      totalItems={count}\r\n      columns={columns}\r\n      onPageChange={ page => setPage(page)}\r\n      page={page}\r\n      isLoading={status === 'process'}\r\n      />\r\n    </LayoutOne>\r\n  )\r\n}\r\n\r\nexport default UserOrders\r\n","import * as React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { LayoutOne } from 'upkit';\r\nimport { useDispatch } from 'react-redux';\r\nimport BounceLoader from 'react-spinners/BounceLoader';\r\nimport { userLogout } from '../../features/Auth/actions';\r\nimport { logout } from '../../api/auth';\r\n\r\nconst Logout = () => {\r\n\r\n  let history = useHistory();\r\n  let dispatch = useDispatch();\r\n  \r\n  React.useEffect(() => {\r\n\r\n    logout()\r\n      .then(() => dispatch(userLogout()) )\r\n      .then(() => history.push('/') );\r\n\r\n  }, [dispatch, history])\r\n\r\n\r\n\r\n  return (\r\n    <LayoutOne size=\"small\">\r\n    <div className=\"text-center flex flex-col justify-center itemscenter\">\r\n      <BounceLoader color=\"red\"/>\r\n      <br/>\r\n        Logging out ...\r\n      </div>\r\n    </LayoutOne>\r\n  )\r\n}\r\n\r\nexport default Logout\r\n","import * as React from 'react'\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport {useSelector} from 'react-redux';\r\n\r\n\r\nconst GuardRoute = ({children, ...rest}) => {\r\n  \r\n  let { user } = useSelector(state => state.auth);\r\n\r\n  return <Route {...rest}>\r\n    {user ? children : <Redirect to=\"/login\" />}\r\n  </Route>\r\n};\r\nexport default GuardRoute;","import * as React from 'react';\r\nimport {useSelector} from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\n\r\nexport default function GuestOnlyRoute({children, ...rest}){\r\n  \r\n  let { user } = useSelector(state => state.auth);\r\n\r\n  return <Route {...rest}>\r\n    {!user ? children : <Redirect to=\"/\" />}\r\n  </Route>\r\n  }","import React from 'react';\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\n\n\nimport 'upkit/dist/style.min.css'\nimport { Provider } from 'react-redux';\n\nimport store from './app/store';\nimport Home from './pages/Home';\n\nimport { listen } from './app/listener';\nimport Register from './pages/Register';\nimport RegisterSuccess from './pages/RegisterSuccess';\nimport Login from './pages/Login';\nimport UserAddressAdd from './pages/UserAddressAdd';\nimport UserAddress from './pages/UserAdddress';\nimport Checkout from './pages/Checkout';\nimport Invoice from './pages/Invoice'\nimport UserAccount from './pages/UserAccount';\nimport UserOrders from './pages/UserOrders';\nimport Logout from './pages/Logout';\n\n\nimport { getCart } from './api/cart';\nimport GuardRoute from './components/GuardRoute';\nimport GuestOnlyRoute from './components/GuestOnlyRoute';\n\nfunction App() {\n  React.useEffect(() => {\n    listen();\n    getCart();\n  }, [])\n  return (\n    <div className=\"App\">\n      <Provider store={store}>\n        <Router>\n          <Switch>\n            <GuardRoute path=\"/logout\">\n              <Logout />\n            </GuardRoute>\n            <GuardRoute path=\"/pesanan\">  \n                <UserOrders/>\n            </GuardRoute>\n            <GuardRoute path=\"/account\">       \n                <UserAccount />         \n            </GuardRoute>\n            <GuardRoute path=\"/invoice/:order_id\">\n                <Invoice />\n            </GuardRoute>\n            <GuardRoute path=\"/checkout\">      \n                <Checkout />       \n            </GuardRoute>\n            <GuardRoute path=\"/alamat-pengiriman/tambah\">\n              <UserAddressAdd />\n            </GuardRoute>\n            <GuardRoute path=\"/alamat-pengiriman\">\n                <UserAddress />            \n            </GuardRoute>\n            <GuestOnlyRoute path=\"/register\">\n              <Register />\n            </GuestOnlyRoute>\n            <GuestOnlyRoute path=\"/register/berhasil\">\n              <RegisterSuccess />\n            </GuestOnlyRoute>\n            <GuestOnlyRoute path=\"/login\" >\n              <Login />\n            </GuestOnlyRoute>\n            <Route path=\"/\">\n              <Home/>\n            </Route>\n          </Switch>\n        </Router>\n      </Provider>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/tailwind.css'\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}